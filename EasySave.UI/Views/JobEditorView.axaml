<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:EasySave.GUI.ViewModels"
             x:Class="EasySave.GUI.Views.JobEditorView"
             x:DataType="vm:JobEditorViewModel">
    
    <Grid RowDefinitions="Auto, Auto, *">
        <Grid.Background>
            <RadialGradientBrush Center="50%,50%" Radius="0.8">
                <GradientStop Color="#1e1e2d" Offset="0" />
                <GradientStop Color="#14141b" Offset="1" />
            </RadialGradientBrush>
        </Grid.Background>

        <Border Grid.Row="0" IsVisible="{Binding IsNotifyVisible}" Background="{Binding NotifyColor}" Height="40">
            <TextBlock Text="{Binding NotifyMsg}" Foreground="White" VerticalAlignment="Center" HorizontalAlignment="Center" FontWeight="Bold"/>
        </Border>

        <Border Grid.Row="1" Padding="20" Background="#1Affffff" BorderBrush="#22ffffff" BorderThickness="0,0,0,1">
            <StackPanel Orientation="Horizontal" Spacing="20">
                <Button Command="{Binding BackCommand}" Background="Transparent">
                    <Path Data="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" Fill="#727cf5" Width="20" Height="20" Stretch="Uniform"/>
                </Button>
                <TextBlock Text="{Binding TitleText}" FontSize="22" FontWeight="Bold" Foreground="White" VerticalAlignment="Center"/>
            </StackPanel>
        </Border>

        <ScrollViewer Grid.Row="2" Padding="25">
            <StackPanel Spacing="20">
                <Border IsVisible="{Binding IsQuotaAlertVisible}" Background="#e74c3c" CornerRadius="8" Padding="10">
                    <TextBlock Text="{Binding QuotaMessage}" Foreground="White" HorizontalAlignment="Center"/>
                </Border>
                <Border Background="#2a2a3d" CornerRadius="12" Padding="25">
                    <StackPanel Spacing="20">
                        <TextBox Text="{Binding JobName}" Watermark="{Binding NameLabel}" IsEnabled="{Binding IsCreationMode}" Foreground="White" Background="#14141b"/>
                        <Grid ColumnDefinitions="*, Auto">
                            <TextBox Text="{Binding SourcePath}" Watermark="{Binding SourceWatermark}" Foreground="White" IsReadOnly="True" Background="#14141b"/>
                            <Button Grid.Column="1" Command="{Binding BrowseSourceCommand}" Content="ðŸ“" Background="#3a3a4d"/>
                        </Grid>
                        <Grid ColumnDefinitions="*, Auto">
                            <TextBox Text="{Binding DestinationPath}" Watermark="{Binding TargetWatermark}" Foreground="White" IsReadOnly="True" Background="#14141b"/>
                            <Button Grid.Column="1" Command="{Binding BrowseDestinationCommand}" Content="ðŸ“" Background="#3a3a4d"/>
                        </Grid>
                        <StackPanel Orientation="Horizontal" Spacing="30" IsVisible="{Binding IsCreationMode}">
                            <RadioButton Content="Full" Foreground="White" IsChecked="{Binding IsFullBackup}"/>
                            <RadioButton Content="Differential" Foreground="White" IsChecked="{Binding !IsFullBackup}"/>
                        </StackPanel>
                        <Button Content="{Binding SaveBtnText}" Command="{Binding SaveCommand}" IsEnabled="{Binding CanExecuteSave}" Background="#727cf5" Foreground="White" HorizontalAlignment="Stretch" HorizontalContentAlignment="Center" Height="45"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>