<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:EasySave.GUI.ViewModels"
             x:Class="EasySave.GUI.Views.CreateJobView"
             x:DataType="vm:CreateJobViewModel">

	<Grid RowDefinitions="Auto, *">
		<Grid.Background>
			<RadialGradientBrush Center="50%,50%" GradientOrigin="50%,50%" Radius="0.8">
				<GradientStop Color="#1e1e2d" Offset="0" />
				<GradientStop Color="#14141b" Offset="1" />
			</RadialGradientBrush>
		</Grid.Background>

		<Border Grid.Row="0" Padding="25" Background="#1Affffff" BorderBrush="#22ffffff" BorderThickness="0,0,0,1">
			<StackPanel Orientation="Horizontal" Spacing="20">
				<Button Command="{Binding BackCommand}" Background="Transparent" BorderThickness="0">
					<Path Data="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"
                          Fill="#727cf5" Stretch="Uniform" Width="24" Height="24"/>
				</Button>
				<TextBlock Text="{Binding TitleText}" FontSize="26" FontWeight="Bold" Foreground="White" VerticalAlignment="Center"/>
			</StackPanel>
		</Border>

		<ScrollViewer Grid.Row="1" Padding="25" VerticalScrollBarVisibility="Auto">
			<StackPanel Spacing="20" MinHeight="600">

				<Border IsVisible="{Binding IsQuotaAlertVisible}"
                        Background="#e74c3c" CornerRadius="10" Padding="15" BoxShadow="0 4 10 0 #40000000">
					<Grid ColumnDefinitions="Auto, *">
						<Path Data="M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"
                              Fill="White" Width="18" Height="18" Stretch="Uniform" Margin="0,0,12,0"/>
						<TextBlock Grid.Column="1" Text="{Binding QuotaMessage}"
                                   Foreground="White" FontWeight="Bold" VerticalAlignment="Center" FontSize="13"/>
					</Grid>
				</Border>

				<Border Background="#2a2a3d" CornerRadius="12" Padding="30" BoxShadow="0 8 20 0 #40000000">
					<StackPanel Spacing="25">

						<StackPanel Spacing="8">
							<TextBlock Text="{Binding NameLabel}" Foreground="#888c9b" FontSize="14"/>
							<TextBox Text="{Binding JobName}" Watermark="{Binding NameLabel}" Background="#14141b" CornerRadius="8" Height="45"/>
						</StackPanel>

						<StackPanel Spacing="8">
							<TextBlock Text="{Binding SourceWatermark}" Foreground="#888c9b" FontSize="14"/>
							<Grid ColumnDefinitions="*, Auto">
								<TextBox Text="{Binding SourcePath}" IsReadOnly="True" Background="#14141b" CornerRadius="8,0,0,8" Height="45"/>
								<Button Grid.Column="1" Command="{Binding BrowseSourceCommand}" Content="ðŸ“" Width="50" Height="45" CornerRadius="0,8,8,0" Background="#3a3a4d"/>
							</Grid>
						</StackPanel>

						<StackPanel Spacing="8">
							<TextBlock Text="{Binding TargetWatermark}" Foreground="#888c9b" FontSize="14"/>
							<Grid ColumnDefinitions="*, Auto">
								<TextBox Text="{Binding DestinationPath}" IsReadOnly="True" Background="#14141b" CornerRadius="8,0,0,8" Height="45"/>
								<Button Grid.Column="1" Command="{Binding BrowseDestinationCommand}" Content="ðŸ“" Width="50" Height="45" CornerRadius="0,8,8,0" Background="#3a3a4d"/>
							</Grid>
						</StackPanel>

						<StackPanel Spacing="8">
							<TextBlock Text="{Binding EncryptionLabel}" Foreground="#888c9b" FontSize="14"/>
							<TextBox Text="{Binding EncryptionKey}" Watermark="Mot de passe (optionnel)" Background="#14141b" CornerRadius="8" Height="45"/>
						</StackPanel>

						<StackPanel Spacing="10">
							<TextBlock Text="{Binding TypeLabel}" Foreground="#888c9b" FontSize="14"/>
							<StackPanel Orientation="Horizontal" Spacing="40">
								<RadioButton Content="{Binding FullText}" Foreground="White" IsChecked="{Binding IsFullBackup}"/>
								<RadioButton Content="{Binding DiffText}" Foreground="White" IsChecked="{Binding IsDifferentialBackup}"/>
							</StackPanel>
						</StackPanel>

						<Grid ColumnDefinitions="*, *">
							<Button Grid.Column="0" Content="{Binding CancelBtnText}" Command="{Binding CancelCommand}"
                                    Background="Transparent" BorderBrush="#e74c3c" BorderThickness="1" Foreground="#e74c3c"
                                    Height="50" CornerRadius="10" Margin="0,0,10,0"
                                    HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"/>

							<Button Grid.Column="1" Content="{Binding SaveBtnText}" Command="{Binding SaveCommand}"
                                    IsEnabled="{Binding CanCreate}"
                                    Background="#727cf5" Foreground="White" Height="50" CornerRadius="10"
                                    HorizontalAlignment="Stretch" HorizontalContentAlignment="Center">
								<Button.Styles>
									<Style Selector="Button:disabled /template/ ContentPresenter">
										<Setter Property="Background" Value="#1Affffff"/>
										<Setter Property="Opacity" Value="0.5"/>
									</Style>
								</Button.Styles>
							</Button>
						</Grid>
					</StackPanel>
				</Border>
			</StackPanel>
		</ScrollViewer>
	</Grid>
</UserControl>